(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},27612,60434,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612);let l=(0,t.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>l],60434)},86311,e=>{"use strict";let t=(0,e.i(75254).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>t],86311)},14683,e=>{"use strict";var t=e.i(60434);e.s(["Circle",()=>t.default])},82020,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(22016),a=e.i(18566),r=e.i(71689),i=e.i(72520),n=e.i(7233),c=e.i(55436),o=e.i(78894),d=e.i(67881),x=e.i(88699),u=e.i(27612),m=e.i(86311),h=e.i(14683),g=e.i(99833),y=e.i(47163);let p=g.CATEGORY_STYLES,b=g.PRIORITY_STYLES;function f({note:e,onEdit:s,onDelete:l}){let a=p[e.category]||p.OTHER,r=b[e.priority];return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:(0,y.cn)("px-3 py-1 text-xs font-semibold rounded-full",a.bg,a.text),children:e.category.replace(/_/g," ")}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Circle,{className:(0,y.cn)("w-3 h-3 fill-current",r)}),(0,t.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:e.priority})]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,t.jsx)(m.MessageSquare,{className:"w-3 h-3"}),e.timestamp]})]}),(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Content:"}),(0,t.jsx)("p",{className:"text-sm text-gray-800 leading-relaxed",children:e.content})]}),e.relatedTo&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Related To:"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.relatedTo})]}),e.action&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Action:"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.action})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Source:"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.source})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>s(e),className:"text-gray-600 hover:text-blue-600 gap-1",children:[(0,t.jsx)(x.Pencil,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>l(e.id),className:"text-gray-600 hover:text-red-600 gap-1",children:[(0,t.jsx)(u.Trash2,{className:"w-4 h-4"}),"Delete"]})]})]})}var j=e.i(37727);let N=g.CATEGORY_STYLES,v=["HEADER_INFO","PURPOSE_SCOPE","ROLES_RESPONSIBILITIES","PROCEDURE_STEPS","QUALITY_SUCCESS","TROUBLESHOOTING","OTHER"],w=["high","medium","low"];function S({note:e,isOpen:l,onClose:a,onSave:r,isNew:i}){let[n,c]=(0,s.useState)(null);return((0,s.useEffect)(()=>{e?c({...e}):i&&c({id:`note-${Date.now()}`,category:"OTHER",priority:"medium",timestamp:"Manual Entry",source:"Manual",content:"",relatedTo:"",action:""})},[e,i]),l&&n)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:i?"Add New Note":"Edit Note"}),(0,t.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:(0,t.jsx)(j.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.content.trim()&&(r(n),a())},className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(e=>{let s=N[e]||N.OTHER;return(0,t.jsx)("button",{type:"button",onClick:()=>c({...n,category:e}),className:(0,y.cn)("px-3 py-1.5 text-xs font-medium rounded-full transition-all",n.category===e?`${s.bg} ${s.text} ring-2 ring-offset-1 ring-blue-500`:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.replace(/_/g," ")},e)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,t.jsx)("div",{className:"flex gap-2",children:w.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>c({...n,priority:e}),className:(0,y.cn)("px-4 py-2 text-sm font-medium rounded-lg capitalize transition-all",n.priority===e?"high"===e?"bg-red-100 text-red-700 ring-2 ring-red-500":"medium"===e?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-500":"bg-green-100 text-green-700 ring-2 ring-green-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,t.jsx)("textarea",{value:n.content,onChange:e=>c({...n,content:e.target.value}),placeholder:"Describe the note content...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related To"}),(0,t.jsx)("input",{type:"text",value:n.relatedTo,onChange:e=>c({...n,relatedTo:e.target.value}),placeholder:"e.g., Step 3 - Approval Process",className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Required"}),(0,t.jsx)("input",{type:"text",value:n.action,onChange:e=>c({...n,action:e.target.value}),placeholder:"e.g., Add approval step with 24hr SLA",className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(d.Button,{type:"button",variant:"outline",onClick:a,className:"flex-1 bg-transparent",children:"Cancel"}),(0,t.jsx)(d.Button,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:i?"Add Note":"Save Changes"})]})]})]})}):null}var C=e.i(54768);let k=g.CATEGORY_STYLES,E=["All","HEADER_INFO","PURPOSE_SCOPE","ROLES_RESPONSIBILITIES","PROCEDURE_STEPS","QUALITY_SUCCESS","TROUBLESHOOTING"],T=["Chronological","By Section","By Priority"],A=["No troubleshooting steps defined","Quality metrics not specified","Visual aids not discussed"];function O(){let e=(0,a.useRouter)(),x=(0,a.useParams)(),{sops:u,updateSOP:m}=(0,C.useSOPContext)(),h=u.find(e=>e.id===x.id)||u[0],[g,p]=(0,s.useState)(h?.notes||[]),[b,j]=(0,s.useState)(""),[N,v]=(0,s.useState)("All"),[w,O]=(0,s.useState)("Chronological"),[R,P]=(0,s.useState)(null),[B,M]=(0,s.useState)(!1),[L,_]=(0,s.useState)(null),I=(0,s.useMemo)(()=>{let e=[...g];if("All"!==N&&(e=e.filter(e=>e.category===N)),b){let t=b.toLowerCase();e=e.filter(e=>e.content.toLowerCase().includes(t)||e.relatedTo.toLowerCase().includes(t)||e.action.toLowerCase().includes(t))}if("By Priority"===w){let t={high:0,medium:1,low:2};e.sort((e,s)=>t[e.priority]-t[s.priority])}else"By Section"===w&&e.sort((e,t)=>e.category.localeCompare(t.category));return e},[g,N,b,w]),z=(0,s.useMemo)(()=>{let e={All:g.length};return g.forEach(t=>{e[t.category]=(e[t.category]||0)+1}),e},[g]),H=()=>{h&&m(h.id,{notes:g}),e.push(`/preview/${x.id}`)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)(l.default,{href:"/create",className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Back to Chat"})]}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Review & Edit Notes"}),(0,t.jsxs)(d.Button,{onClick:H,className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:["Generate SOP",(0,t.jsx)(i.ArrowRight,{className:"w-4 h-4"})]})]}),(0,t.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:["All Conversation Notes (",g.length," total)"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Review and edit notes before generating your SOP"})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2 flex-1",children:E.map(e=>{let s=z[e]||0,l="All"===e?{bg:"bg-gray-100",text:"text-gray-700"}:k[e]||k.OTHER;return(0,t.jsxs)("button",{onClick:()=>v(e),className:(0,y.cn)("px-3 py-1.5 text-xs font-medium rounded-full transition-all flex items-center gap-1",N===e?`${l?.bg} ${l?.text} ring-2 ring-blue-500`:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["All"===e?"All":e.replace(/_/g," "),(0,t.jsx)("span",{className:"bg-white/50 px-1.5 rounded-full text-xs",children:s})]},e)})}),(0,t.jsx)("select",{value:w,onChange:e=>O(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:T.map(e=>(0,t.jsxs)("option",{value:e,children:["Sort: ",e]},e))})]}),(0,t.jsxs)("div",{className:"relative mt-4",children:[(0,t.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"Search notes...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsx)("div",{className:"space-y-4 mb-6",children:I.length>0?I.map(e=>(0,t.jsx)(f,{note:e,onEdit:P,onDelete:e=>_(e)},e.id)):(0,t.jsx)("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-xl",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No notes match your filters"})})}),(0,t.jsxs)(d.Button,{variant:"outline",onClick:()=>M(!0),className:"w-full border-dashed border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600 mb-6 bg-transparent",children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),"Add Manual Note"]}),A.length>0&&(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(o.AlertTriangle,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Missing Critical Information"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 mb-3",children:"The following sections need attention:"}),(0,t.jsx)("ul",{className:"space-y-1",children:A.map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-yellow-600 rounded-full"}),e]},s))}),(0,t.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,t.jsx)(l.default,{href:"/create",children:(0,t.jsx)(d.Button,{variant:"outline",className:"text-yellow-700 border-yellow-300 hover:bg-yellow-100 bg-transparent",children:"Back to Chat to Address"})}),(0,t.jsx)(d.Button,{onClick:H,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Generate Anyway"})]})]})]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(d.Button,{onClick:H,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white gap-2 px-8",children:["Generate Complete SOP",(0,t.jsx)(i.ArrowRight,{className:"w-5 h-5"})]})})]}),(0,t.jsx)(S,{note:R,isOpen:!!R||B,onClose:()=>{P(null),M(!1)},onSave:e=>{g.find(t=>t.id===e.id)?p(g.map(t=>t.id===e.id?e:t)):p([...g,e]),P(null),M(!1)},isNew:B}),L&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Note?"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure? This cannot be undone."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(d.Button,{variant:"outline",onClick:()=>_(null),className:"flex-1 bg-transparent",children:"Cancel"}),(0,t.jsx)(d.Button,{onClick:()=>{p(g.filter(e=>e.id!==L)),_(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})}e.s(["default",()=>O],82020)}]);