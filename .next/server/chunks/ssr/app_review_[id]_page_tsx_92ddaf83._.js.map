{"version":3,"sources":["../../../../app/review/%5Bid%5D/page.tsx","../../../../components/notes/expanded-note-card.tsx","../../../../components/notes/note-editor-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter, useParams } from \"next/navigation\"\nimport { ArrowLeft, ArrowRight, Plus, Search, AlertTriangle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { ExpandedNoteCard } from \"@/components/notes/expanded-note-card\"\nimport { NoteEditorModal } from \"@/components/notes/note-editor-modal\"\nimport { useSOPContext } from \"@/lib/sop-context\"\nimport { CATEGORY_STYLES, type Note, type NoteCategory } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nconst categoryColors = CATEGORY_STYLES\n\nconst categories = [\n  \"All\",\n  \"HEADER_INFO\",\n  \"PURPOSE_SCOPE\",\n  \"ROLES_RESPONSIBILITIES\",\n  \"PROCEDURE_STEPS\",\n  \"QUALITY_SUCCESS\",\n  \"TROUBLESHOOTING\",\n]\nconst sortOptions = [\"Chronological\", \"By Section\", \"By Priority\"]\n\nconst missingCritical = [\n  \"No troubleshooting steps defined\",\n  \"Quality metrics not specified\",\n  \"Visual aids not discussed\",\n]\n\nexport default function ReviewNotesPage() {\n  const router = useRouter()\n  const params = useParams()\n  const { sops, updateSOP } = useSOPContext()\n\n  const sop = sops.find((s) => s.id === params.id) || sops[0]\n  const [notes, setNotes] = useState<Note[]>(sop?.notes || [])\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [activeFilter, setActiveFilter] = useState(\"All\")\n  const [sortBy, setSortBy] = useState(\"Chronological\")\n  const [editingNote, setEditingNote] = useState<Note | null>(null)\n  const [isAddingNote, setIsAddingNote] = useState(false)\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState<string | null>(null)\n\n  const filteredNotes = useMemo(() => {\n    let result = [...notes]\n\n    // Filter by category\n    if (activeFilter !== \"All\") {\n      result = result.filter((n) => n.category === activeFilter)\n    }\n\n    // Filter by search\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      result = result.filter(\n        (n) =>\n          n.content.toLowerCase().includes(query) ||\n          n.relatedTo.toLowerCase().includes(query) ||\n          n.action.toLowerCase().includes(query),\n      )\n    }\n\n    // Sort\n    if (sortBy === \"By Priority\") {\n      const priorityOrder = { high: 0, medium: 1, low: 2 }\n      result.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority])\n    } else if (sortBy === \"By Section\") {\n      result.sort((a, b) => a.category.localeCompare(b.category))\n    }\n\n    return result\n  }, [notes, activeFilter, searchQuery, sortBy])\n\n  const categoryCounts = useMemo(() => {\n    const counts: Record<string, number> = { All: notes.length }\n    notes.forEach((n) => {\n      counts[n.category] = (counts[n.category] || 0) + 1\n    })\n    return counts\n  }, [notes])\n\n  const handleSaveNote = (note: Note) => {\n    if (notes.find((n) => n.id === note.id)) {\n      setNotes(notes.map((n) => (n.id === note.id ? note : n)))\n    } else {\n      setNotes([...notes, note])\n    }\n    setEditingNote(null)\n    setIsAddingNote(false)\n  }\n\n  const handleDeleteNote = (id: string) => {\n    setNotes(notes.filter((n) => n.id !== id))\n    setShowDeleteConfirm(null)\n  }\n\n  const handleGenerate = () => {\n    if (sop) {\n      updateSOP(sop.id, { notes })\n    }\n    router.push(`/preview/${params.id}`)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between\">\n        <Link href=\"/create\" className=\"text-gray-600 hover:text-gray-900 flex items-center gap-2\">\n          <ArrowLeft className=\"w-5 h-5\" />\n          <span className=\"hidden sm:inline\">Back to Chat</span>\n        </Link>\n        <h1 className=\"text-lg font-semibold text-gray-900\">Review & Edit Notes</h1>\n        <Button onClick={handleGenerate} className=\"bg-blue-600 hover:bg-blue-700 text-white gap-2\">\n          Generate SOP\n          <ArrowRight className=\"w-4 h-4\" />\n        </Button>\n      </header>\n\n      <main className=\"max-w-5xl mx-auto px-4 py-6\">\n        {/* Title & Count */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-1\">All Conversation Notes ({notes.length} total)</h2>\n          <p className=\"text-gray-600\">Review and edit notes before generating your SOP</p>\n        </div>\n\n        {/* Filters & Search */}\n        <div className=\"bg-white border border-gray-200 rounded-xl p-4 mb-6\">\n          <div className=\"flex flex-col lg:flex-row gap-4\">\n            {/* Category Filters */}\n            <div className=\"flex flex-wrap gap-2 flex-1\">\n              {categories.map((cat) => {\n                const count = categoryCounts[cat] || 0\n                const colors = cat === \"All\" ? { bg: \"bg-gray-100\", text: \"text-gray-700\" } : (categoryColors[cat as NoteCategory] || categoryColors.OTHER)\n                return (\n                  <button\n                    key={cat}\n                    onClick={() => setActiveFilter(cat)}\n                    className={cn(\n                      \"px-3 py-1.5 text-xs font-medium rounded-full transition-all flex items-center gap-1\",\n                      activeFilter === cat\n                        ? `${colors?.bg} ${colors?.text} ring-2 ring-blue-500`\n                        : \"bg-gray-100 text-gray-600 hover:bg-gray-200\",\n                    )}\n                  >\n                    {cat === \"All\" ? \"All\" : cat.replace(/_/g, \" \")}\n                    <span className=\"bg-white/50 px-1.5 rounded-full text-xs\">{count}</span>\n                  </button>\n                )\n              })}\n            </div>\n\n            {/* Sort */}\n            <select\n              value={sortBy}\n              onChange={(e) => setSortBy(e.target.value)}\n              className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {sortOptions.map((opt) => (\n                <option key={opt} value={opt}>\n                  Sort: {opt}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Search */}\n          <div className=\"relative mt-4\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search notes...\"\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        {/* Notes List */}\n        <div className=\"space-y-4 mb-6\">\n          {filteredNotes.length > 0 ? (\n            filteredNotes.map((note) => (\n              <ExpandedNoteCard\n                key={note.id}\n                note={note}\n                onEdit={setEditingNote}\n                onDelete={(id) => setShowDeleteConfirm(id)}\n              />\n            ))\n          ) : (\n            <div className=\"text-center py-12 bg-white border border-gray-200 rounded-xl\">\n              <p className=\"text-gray-500\">No notes match your filters</p>\n            </div>\n          )}\n        </div>\n\n        {/* Add Manual Note */}\n        <Button\n          variant=\"outline\"\n          onClick={() => setIsAddingNote(true)}\n          className=\"w-full border-dashed border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600 mb-6 bg-transparent\"\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Manual Note\n        </Button>\n\n        {/* Missing Critical Info Warning */}\n        {missingCritical.length > 0 && (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-6\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-yellow-800 mb-2\">Missing Critical Information</h3>\n                <p className=\"text-sm text-yellow-700 mb-3\">The following sections need attention:</p>\n                <ul className=\"space-y-1\">\n                  {missingCritical.map((item, index) => (\n                    <li key={index} className=\"text-sm text-yellow-700 flex items-center gap-2\">\n                      <span className=\"w-1.5 h-1.5 bg-yellow-600 rounded-full\" />\n                      {item}\n                    </li>\n                  ))}\n                </ul>\n                <div className=\"flex gap-3 mt-4\">\n                  <Link href=\"/create\">\n                    <Button\n                      variant=\"outline\"\n                      className=\"text-yellow-700 border-yellow-300 hover:bg-yellow-100 bg-transparent\"\n                    >\n                      Back to Chat to Address\n                    </Button>\n                  </Link>\n                  <Button onClick={handleGenerate} className=\"bg-yellow-600 hover:bg-yellow-700 text-white\">\n                    Generate Anyway\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Generate CTA */}\n        <div className=\"flex justify-end\">\n          <Button onClick={handleGenerate} size=\"lg\" className=\"bg-blue-600 hover:bg-blue-700 text-white gap-2 px-8\">\n            Generate Complete SOP\n            <ArrowRight className=\"w-5 h-5\" />\n          </Button>\n        </div>\n      </main>\n\n      {/* Note Editor Modal */}\n      <NoteEditorModal\n        note={editingNote}\n        isOpen={!!editingNote || isAddingNote}\n        onClose={() => {\n          setEditingNote(null)\n          setIsAddingNote(false)\n        }}\n        onSave={handleSaveNote}\n        isNew={isAddingNote}\n      />\n\n      {/* Delete Confirmation */}\n      {showDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl p-6 max-w-sm w-full shadow-2xl\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Delete Note?</h3>\n            <p className=\"text-gray-600 mb-6\">Are you sure? This cannot be undone.</p>\n            <div className=\"flex gap-3\">\n              <Button variant=\"outline\" onClick={() => setShowDeleteConfirm(null)} className=\"flex-1 bg-transparent\">\n                Cancel\n              </Button>\n              <Button\n                onClick={() => handleDeleteNote(showDeleteConfirm)}\n                className=\"flex-1 bg-red-600 hover:bg-red-700 text-white\"\n              >\n                Delete\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","\"use client\"\n\nimport { Pencil, Trash2, MessageSquare, Circle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { CATEGORY_STYLES, PRIORITY_STYLES, type Note } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nconst categoryColors = CATEGORY_STYLES\nconst priorityColors = PRIORITY_STYLES\n\ninterface ExpandedNoteCardProps {\n  note: Note\n  onEdit: (note: Note) => void\n  onDelete: (id: string) => void\n}\n\nexport function ExpandedNoteCard({ note, onEdit, onDelete }: ExpandedNoteCardProps) {\n  const colors = categoryColors[note.category] || categoryColors.OTHER\n  const priorityColor = priorityColors[note.priority]\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-3 pb-3 border-b border-gray-100\">\n        <div className=\"flex items-center gap-3\">\n          <span className={cn(\"px-3 py-1 text-xs font-semibold rounded-full\", colors.bg, colors.text)}>\n            {note.category.replace(/_/g, \" \")}\n          </span>\n          <div className=\"flex items-center gap-1\">\n            <Circle className={cn(\"w-3 h-3 fill-current\", priorityColor)} />\n            <span className=\"text-xs text-gray-500 capitalize\">{note.priority}</span>\n          </div>\n        </div>\n        <span className=\"text-xs text-gray-400 flex items-center gap-1\">\n          <MessageSquare className=\"w-3 h-3\" />\n          {note.timestamp}\n        </span>\n      </div>\n\n      {/* Content */}\n      <div className=\"space-y-3 mb-4\">\n        <div>\n          <h4 className=\"text-xs font-medium text-gray-500 mb-1\">Content:</h4>\n          <p className=\"text-sm text-gray-800 leading-relaxed\">{note.content}</p>\n        </div>\n\n        {note.relatedTo && (\n          <div>\n            <h4 className=\"text-xs font-medium text-gray-500 mb-1\">Related To:</h4>\n            <p className=\"text-sm text-gray-700\">{note.relatedTo}</p>\n          </div>\n        )}\n\n        {note.action && (\n          <div>\n            <h4 className=\"text-xs font-medium text-gray-500 mb-1\">Action:</h4>\n            <p className=\"text-sm text-gray-700\">{note.action}</p>\n          </div>\n        )}\n\n        <div>\n          <h4 className=\"text-xs font-medium text-gray-500 mb-1\">Source:</h4>\n          <p className=\"text-sm text-gray-700\">{note.source}</p>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex gap-2 pt-3 border-t border-gray-100\">\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => onEdit(note)}\n          className=\"text-gray-600 hover:text-blue-600 gap-1\"\n        >\n          <Pencil className=\"w-4 h-4\" />\n          Edit\n        </Button>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => onDelete(note.id)}\n          className=\"text-gray-600 hover:text-red-600 gap-1\"\n        >\n          <Trash2 className=\"w-4 h-4\" />\n          Delete\n        </Button>\n      </div>\n    </div>\n  )\n}\n","\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect } from \"react\"\nimport { X } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Note, NoteCategory } from \"@/lib/types\"\nimport { CATEGORY_STYLES } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nconst categoryColors = CATEGORY_STYLES\n\ninterface NoteEditorModalProps {\n  note: Note | null\n  isOpen: boolean\n  onClose: () => void\n  onSave: (note: Note) => void\n  isNew?: boolean\n}\n\nconst categories = [\n  \"HEADER_INFO\",\n  \"PURPOSE_SCOPE\",\n  \"ROLES_RESPONSIBILITIES\",\n  \"PROCEDURE_STEPS\",\n  \"QUALITY_SUCCESS\",\n  \"TROUBLESHOOTING\",\n  \"OTHER\",\n]\n\nconst priorities = [\"high\", \"medium\", \"low\"] as const\n\nexport function NoteEditorModal({ note, isOpen, onClose, onSave, isNew }: NoteEditorModalProps) {\n  const [editedNote, setEditedNote] = useState<Note | null>(null)\n\n  useEffect(() => {\n    if (note) {\n      setEditedNote({ ...note })\n    } else if (isNew) {\n      setEditedNote({\n        id: `note-${Date.now()}`,\n        category: \"OTHER\",\n        priority: \"medium\",\n        timestamp: \"Manual Entry\",\n        source: \"Manual\",\n        content: \"\",\n        relatedTo: \"\",\n        action: \"\",\n      })\n    }\n  }, [note, isNew])\n\n  if (!isOpen || !editedNote) return null\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (editedNote.content.trim()) {\n      onSave(editedNote)\n      onClose()\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">{isNew ? \"Add New Note\" : \"Edit Note\"}</h2>\n          <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"h-8 w-8 p-0\">\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          {/* Category */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\n            <div className=\"flex flex-wrap gap-2\">\n              {categories.map((cat) => {\n                const colors = categoryColors[cat as NoteCategory] || categoryColors.OTHER\n                return (\n                  <button\n                    key={cat}\n                    type=\"button\"\n                    onClick={() => setEditedNote({ ...editedNote, category: cat as NoteCategory })}\n                    className={cn(\n                      \"px-3 py-1.5 text-xs font-medium rounded-full transition-all\",\n                      editedNote.category === cat\n                        ? `${colors.bg} ${colors.text} ring-2 ring-offset-1 ring-blue-500`\n                        : \"bg-gray-100 text-gray-600 hover:bg-gray-200\",\n                    )}\n                  >\n                    {cat.replace(/_/g, \" \")}\n                  </button>\n                )\n              })}\n            </div>\n          </div>\n\n          {/* Priority */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Priority</label>\n            <div className=\"flex gap-2\">\n              {priorities.map((p) => (\n                <button\n                  key={p}\n                  type=\"button\"\n                  onClick={() => setEditedNote({ ...editedNote, priority: p })}\n                  className={cn(\n                    \"px-4 py-2 text-sm font-medium rounded-lg capitalize transition-all\",\n                    editedNote.priority === p\n                      ? p === \"high\"\n                        ? \"bg-red-100 text-red-700 ring-2 ring-red-500\"\n                        : p === \"medium\"\n                          ? \"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-500\"\n                          : \"bg-green-100 text-green-700 ring-2 ring-green-500\"\n                      : \"bg-gray-100 text-gray-600 hover:bg-gray-200\",\n                  )}\n                >\n                  {p}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Content */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Content</label>\n            <textarea\n              value={editedNote.content}\n              onChange={(e) => setEditedNote({ ...editedNote, content: e.target.value })}\n              placeholder=\"Describe the note content...\"\n              className=\"w-full h-32 p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n              required\n            />\n          </div>\n\n          {/* Related To */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Related To</label>\n            <input\n              type=\"text\"\n              value={editedNote.relatedTo}\n              onChange={(e) => setEditedNote({ ...editedNote, relatedTo: e.target.value })}\n              placeholder=\"e.g., Step 3 - Approval Process\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          {/* Action */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Action Required</label>\n            <input\n              type=\"text\"\n              value={editedNote.action}\n              onChange={(e) => setEditedNote({ ...editedNote, action: e.target.value })}\n              placeholder=\"e.g., Add approval step with 24hr SLA\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose} className=\"flex-1 bg-transparent\">\n              Cancel\n            </Button>\n            <Button type=\"submit\" className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\">\n              {isNew ? \"Add Note\" : \"Save Changes\"}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}