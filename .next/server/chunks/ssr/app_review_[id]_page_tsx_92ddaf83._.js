module.exports=[74959,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(210),g=a.i(32860),h=a.i(15618),i=a.i(87532),j=a.i(73570),k=a.i(40695),l=a.i(99464),m=a.i(81560),n=a.i(63588),o=a.i(65151),p=a.i(11889),q=a.i(97895);let r=p.CATEGORY_STYLES,s=p.PRIORITY_STYLES;function t({note:a,onEdit:c,onDelete:d}){let e=r[a.category]||r.OTHER,f=s[a.priority];return(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:(0,q.cn)("px-3 py-1 text-xs font-semibold rounded-full",e.bg,e.text),children:a.category.replace(/_/g," ")}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.Circle,{className:(0,q.cn)("w-3 h-3 fill-current",f)}),(0,b.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:a.priority})]})]}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,b.jsx)(n.MessageSquare,{className:"w-3 h-3"}),a.timestamp]})]}),(0,b.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Content:"}),(0,b.jsx)("p",{className:"text-sm text-gray-800 leading-relaxed",children:a.content})]}),a.relatedTo&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Related To:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.relatedTo})]}),a.action&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Action:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.action})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Source:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.source})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[(0,b.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:()=>c(a),className:"text-gray-600 hover:text-blue-600 gap-1",children:[(0,b.jsx)(l.Pencil,{className:"w-4 h-4"}),"Edit"]}),(0,b.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:()=>d(a.id),className:"text-gray-600 hover:text-red-600 gap-1",children:[(0,b.jsx)(m.Trash2,{className:"w-4 h-4"}),"Delete"]})]})]})}var u=a.i(33508);let v=p.CATEGORY_STYLES,w=["HEADER_INFO","PURPOSE_SCOPE","ROLES_RESPONSIBILITIES","PROCEDURE_STEPS","QUALITY_SUCCESS","TROUBLESHOOTING","OTHER"],x=["high","medium","low"];function y({note:a,isOpen:d,onClose:e,onSave:f,isNew:g}){let[h,i]=(0,c.useState)(null);return((0,c.useEffect)(()=>{a?i({...a}):g&&i({id:`note-${Date.now()}`,category:"OTHER",priority:"medium",timestamp:"Manual Entry",source:"Manual",content:"",relatedTo:"",action:""})},[a,g]),d&&h)?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g?"Add New Note":"Edit Note"}),(0,b.jsx)(k.Button,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",children:(0,b.jsx)(u.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),h.content.trim()&&(f(h),e())},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(a=>{let c=v[a]||v.OTHER;return(0,b.jsx)("button",{type:"button",onClick:()=>i({...h,category:a}),className:(0,q.cn)("px-3 py-1.5 text-xs font-medium rounded-full transition-all",h.category===a?`${c.bg} ${c.text} ring-2 ring-offset-1 ring-blue-500`:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:a.replace(/_/g," ")},a)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,b.jsx)("div",{className:"flex gap-2",children:x.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>i({...h,priority:a}),className:(0,q.cn)("px-4 py-2 text-sm font-medium rounded-lg capitalize transition-all",h.priority===a?"high"===a?"bg-red-100 text-red-700 ring-2 ring-red-500":"medium"===a?"bg-yellow-100 text-yellow-700 ring-2 ring-yellow-500":"bg-green-100 text-green-700 ring-2 ring-green-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,b.jsx)("textarea",{value:h.content,onChange:a=>i({...h,content:a.target.value}),placeholder:"Describe the note content...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related To"}),(0,b.jsx)("input",{type:"text",value:h.relatedTo,onChange:a=>i({...h,relatedTo:a.target.value}),placeholder:"e.g., Step 3 - Approval Process",className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Required"}),(0,b.jsx)("input",{type:"text",value:h.action,onChange:a=>i({...h,action:a.target.value}),placeholder:"e.g., Add approval step with 24hr SLA",className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(k.Button,{type:"button",variant:"outline",onClick:e,className:"flex-1 bg-transparent",children:"Cancel"}),(0,b.jsx)(k.Button,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:g?"Add Note":"Save Changes"})]})]})]})}):null}var z=a.i(39097);let A=p.CATEGORY_STYLES,B=["All","HEADER_INFO","PURPOSE_SCOPE","ROLES_RESPONSIBILITIES","PROCEDURE_STEPS","QUALITY_SUCCESS","TROUBLESHOOTING"],C=["Chronological","By Section","By Priority"],D=["No troubleshooting steps defined","Quality metrics not specified","Visual aids not discussed"];function E(){let a=(0,e.useRouter)(),l=(0,e.useParams)(),{sops:m,updateSOP:n}=(0,z.useSOPContext)(),o=m.find(a=>a.id===l.id)||m[0],[p,r]=(0,c.useState)(o?.notes||[]),[s,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("All"),[x,E]=(0,c.useState)("Chronological"),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),L=(0,c.useMemo)(()=>{let a=[...p];if("All"!==v&&(a=a.filter(a=>a.category===v)),s){let b=s.toLowerCase();a=a.filter(a=>a.content.toLowerCase().includes(b)||a.relatedTo.toLowerCase().includes(b)||a.action.toLowerCase().includes(b))}if("By Priority"===x){let b={high:0,medium:1,low:2};a.sort((a,c)=>b[a.priority]-b[c.priority])}else"By Section"===x&&a.sort((a,b)=>a.category.localeCompare(b.category));return a},[p,v,s,x]),M=(0,c.useMemo)(()=>{let a={All:p.length};return p.forEach(b=>{a[b.category]=(a[b.category]||0)+1}),a},[p]),N=()=>{o&&n(o.id,{notes:p}),a.push(`/preview/${l.id}`)};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsxs)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,b.jsxs)(d.default,{href:"/create",className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Back to Chat"})]}),(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Review & Edit Notes"}),(0,b.jsxs)(k.Button,{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:["Generate SOP",(0,b.jsx)(g.ArrowRight,{className:"w-4 h-4"})]})]}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:["All Conversation Notes (",p.length," total)"]}),(0,b.jsx)("p",{className:"text-gray-600",children:"Review and edit notes before generating your SOP"})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-2 flex-1",children:B.map(a=>{let c=M[a]||0,d="All"===a?{bg:"bg-gray-100",text:"text-gray-700"}:A[a]||A.OTHER;return(0,b.jsxs)("button",{onClick:()=>w(a),className:(0,q.cn)("px-3 py-1.5 text-xs font-medium rounded-full transition-all flex items-center gap-1",v===a?`${d?.bg} ${d?.text} ring-2 ring-blue-500`:"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["All"===a?"All":a.replace(/_/g," "),(0,b.jsx)("span",{className:"bg-white/50 px-1.5 rounded-full text-xs",children:c})]},a)})}),(0,b.jsx)("select",{value:x,onChange:a=>E(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(a=>(0,b.jsxs)("option",{value:a,children:["Sort: ",a]},a))})]}),(0,b.jsxs)("div",{className:"relative mt-4",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",value:s,onChange:a=>u(a.target.value),placeholder:"Search notes...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,b.jsx)("div",{className:"space-y-4 mb-6",children:L.length>0?L.map(a=>(0,b.jsx)(t,{note:a,onEdit:G,onDelete:a=>K(a)},a.id)):(0,b.jsx)("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-xl",children:(0,b.jsx)("p",{className:"text-gray-500",children:"No notes match your filters"})})}),(0,b.jsxs)(k.Button,{variant:"outline",onClick:()=>I(!0),className:"w-full border-dashed border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600 mb-6 bg-transparent",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Add Manual Note"]}),D.length>0&&(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-5 mb-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(j.AlertTriangle,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Missing Critical Information"}),(0,b.jsx)("p",{className:"text-sm text-yellow-700 mb-3",children:"The following sections need attention:"}),(0,b.jsx)("ul",{className:"space-y-1",children:D.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-yellow-700 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-yellow-600 rounded-full"}),a]},c))}),(0,b.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,b.jsx)(d.default,{href:"/create",children:(0,b.jsx)(k.Button,{variant:"outline",className:"text-yellow-700 border-yellow-300 hover:bg-yellow-100 bg-transparent",children:"Back to Chat to Address"})}),(0,b.jsx)(k.Button,{onClick:N,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Generate Anyway"})]})]})]})}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(k.Button,{onClick:N,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white gap-2 px-8",children:["Generate Complete SOP",(0,b.jsx)(g.ArrowRight,{className:"w-5 h-5"})]})})]}),(0,b.jsx)(y,{note:F,isOpen:!!F||H,onClose:()=>{G(null),I(!1)},onSave:a=>{p.find(b=>b.id===a.id)?r(p.map(b=>b.id===a.id?a:b)):r([...p,a]),G(null),I(!1)},isNew:H}),J&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Note?"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure? This cannot be undone."}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>K(null),className:"flex-1 bg-transparent",children:"Cancel"}),(0,b.jsx)(k.Button,{onClick:()=>{r(p.filter(a=>a.id!==J)),K(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})})]})}a.s(["default",()=>E],74959)}];

//# sourceMappingURL=app_review_%5Bid%5D_page_tsx_92ddaf83._.js.map