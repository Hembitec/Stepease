{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/hembi/Desktop/sop-builder-mvp/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/hembi/Desktop/sop-builder-mvp/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///home/hembi/Desktop/sop-builder-mvp/components/upload/drag-drop-zone.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, type DragEvent } from \"react\"\nimport { Upload, FileText } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { cn } from \"@/lib/utils\"\n\ninterface DragDropZoneProps {\n  onFileSelect: (file: File) => void\n  acceptedTypes?: string[]\n  maxSize?: number\n}\n\nexport function DragDropZone({\n  onFileSelect,\n  acceptedTypes = [\".pdf\", \".docx\", \".md\", \".txt\"],\n  maxSize = 10 * 1024 * 1024,\n}: DragDropZoneProps) {\n  const [isDragOver, setIsDragOver] = useState(false)\n  const [selectedFile, setSelectedFile] = useState<File | null>(null)\n  const [error, setError] = useState<string | null>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const validateFile = (file: File): boolean => {\n    setError(null)\n\n    const extension = \".\" + file.name.split(\".\").pop()?.toLowerCase()\n    if (!acceptedTypes.some((type) => extension === type.toLowerCase())) {\n      setError(`Invalid file type. Accepted: ${acceptedTypes.join(\", \")}`)\n      return false\n    }\n\n    if (file.size > maxSize) {\n      setError(`File too large. Maximum size: ${Math.round(maxSize / 1024 / 1024)}MB`)\n      return false\n    }\n\n    return true\n  }\n\n  const handleFile = (file: File) => {\n    if (validateFile(file)) {\n      setSelectedFile(file)\n      onFileSelect(file)\n    }\n  }\n\n  const handleDragOver = (e: DragEvent) => {\n    e.preventDefault()\n    setIsDragOver(true)\n  }\n\n  const handleDragLeave = (e: DragEvent) => {\n    e.preventDefault()\n    setIsDragOver(false)\n  }\n\n  const handleDrop = (e: DragEvent) => {\n    e.preventDefault()\n    setIsDragOver(false)\n    const file = e.dataTransfer.files[0]\n    if (file) handleFile(file)\n  }\n\n  const handleClick = () => {\n    inputRef.current?.click()\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) handleFile(file)\n  }\n\n  return (\n    <div>\n      <div\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        onClick={handleClick}\n        className={cn(\n          \"relative border-2 border-dashed rounded-xl p-12 text-center cursor-pointer transition-all\",\n          isDragOver ? \"border-blue-500 bg-blue-50 scale-105\" : \"border-gray-300 bg-gray-50 hover:border-gray-400\",\n          selectedFile && \"border-green-500 bg-green-50\",\n        )}\n      >\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept={acceptedTypes.join(\",\")}\n          onChange={handleInputChange}\n          className=\"hidden\"\n        />\n\n        {selectedFile ? (\n          <div className=\"flex flex-col items-center\">\n            <FileText className=\"w-12 h-12 text-green-600 mb-4\" />\n            <p className=\"text-lg font-medium text-gray-900 mb-1\">{selectedFile.name}</p>\n            <p className=\"text-sm text-gray-500\">{(selectedFile.size / 1024).toFixed(1)} KB</p>\n            <Button\n              variant=\"outline\"\n              onClick={(e) => {\n                e.stopPropagation()\n                setSelectedFile(null)\n              }}\n              className=\"mt-4 bg-transparent\"\n            >\n              Choose Different File\n            </Button>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center\">\n            <Upload className={cn(\"w-12 h-12 mb-4\", isDragOver ? \"text-blue-600\" : \"text-gray-400\")} />\n            <p className=\"text-lg font-medium text-gray-900 mb-1\">Drag & Drop File Here</p>\n            <p className=\"text-gray-500 mb-4\">or</p>\n            <Button className=\"bg-blue-600 hover:bg-blue-700 text-white\">Browse Files</Button>\n            <p className=\"text-sm text-gray-400 mt-4\">\n              Supported: {acceptedTypes.join(\", \")} | Max: {Math.round(maxSize / 1024 / 1024)}MB\n            </p>\n          </div>\n        )}\n      </div>\n\n      {error && <p className=\"mt-3 text-sm text-red-600 text-center\">{error}</p>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AACA;AACA;AAPA;;;;;;AAeO,SAAS,aAAa,EAC3B,YAAY,EACZ,gBAAgB;IAAC;IAAQ;IAAS;IAAO;CAAO,EAChD,UAAU,KAAK,OAAO,IAAI,EACR;IAClB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,WAAW,IAAA,+MAAM,EAAmB;IAE1C,MAAM,eAAe,CAAC;QACpB,SAAS;QAET,MAAM,YAAY,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI;QACpD,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,OAAS,cAAc,KAAK,WAAW,KAAK;YACnE,SAAS,CAAC,6BAA6B,EAAE,cAAc,IAAI,CAAC,OAAO;YACnE,OAAO;QACT;QAEA,IAAI,KAAK,IAAI,GAAG,SAAS;YACvB,SAAS,CAAC,8BAA8B,EAAE,KAAK,KAAK,CAAC,UAAU,OAAO,MAAM,EAAE,CAAC;YAC/E,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,aAAa,OAAO;YACtB,gBAAgB;YAChB,aAAa;QACf;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,EAAE,cAAc;QAChB,cAAc;IAChB;IAEA,MAAM,kBAAkB,CAAC;QACvB,EAAE,cAAc;QAChB,cAAc;IAChB;IAEA,MAAM,aAAa,CAAC;QAClB,EAAE,cAAc;QAChB,cAAc;QACd,MAAM,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC,EAAE;QACpC,IAAI,MAAM,WAAW;IACvB;IAEA,MAAM,cAAc;QAClB,SAAS,OAAO,EAAE;IACpB;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM,WAAW;IACvB;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBACC,YAAY;gBACZ,aAAa;gBACb,QAAQ;gBACR,SAAS;gBACT,WAAW,IAAA,kHAAE,EACX,6FACA,aAAa,yCAAyC,oDACtD,gBAAgB;;kCAGlB,8OAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAQ,cAAc,IAAI,CAAC;wBAC3B,UAAU;wBACV,WAAU;;;;;;oBAGX,6BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0NAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC;gCAAE,WAAU;0CAA0C,aAAa,IAAI;;;;;;0CACxE,8OAAC;gCAAE,WAAU;;oCAAyB,CAAC,aAAa,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;oCAAG;;;;;;;0CAC5E,8OAAC,qIAAM;gCACL,SAAQ;gCACR,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,gBAAgB;gCAClB;gCACA,WAAU;0CACX;;;;;;;;;;;6CAKH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gNAAM;gCAAC,WAAW,IAAA,kHAAE,EAAC,kBAAkB,aAAa,kBAAkB;;;;;;0CACvE,8OAAC;gCAAE,WAAU;0CAAyC;;;;;;0CACtD,8OAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,8OAAC,qIAAM;gCAAC,WAAU;0CAA2C;;;;;;0CAC7D,8OAAC;gCAAE,WAAU;;oCAA6B;oCAC5B,cAAc,IAAI,CAAC;oCAAM;oCAAS,KAAK,KAAK,CAAC,UAAU,OAAO;oCAAM;;;;;;;;;;;;;;;;;;;YAMvF,uBAAS,8OAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///home/hembi/Desktop/sop-builder-mvp/components/upload/analysis-results.tsx"],"sourcesContent":["\"use client\"\n\nimport { CheckCircle, AlertTriangle, XCircle, FileText, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useState } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface AnalysisItem {\n  status: \"good\" | \"warning\" | \"missing\"\n  text: string\n}\n\ninterface AnalysisResultsProps {\n  fileName: string\n  wordCount: number\n  stepCount: number\n  sectionCount: number\n  analysisTime: number\n  strengths: AnalysisItem[]\n  improvements: AnalysisItem[]\n  readabilityScore: number\n  completeness: { current: number; total: number }\n  originalContent: string\n  onStartImprovement: () => void\n}\n\nexport function AnalysisResults({\n  fileName,\n  wordCount,\n  stepCount,\n  sectionCount,\n  analysisTime,\n  strengths,\n  improvements,\n  readabilityScore,\n  completeness,\n  originalContent,\n  onStartImprovement,\n}: AnalysisResultsProps) {\n  const [showFullContent, setShowFullContent] = useState(false)\n\n  const getStatusIcon = (status: AnalysisItem[\"status\"]) => {\n    switch (status) {\n      case \"good\":\n        return <CheckCircle className=\"w-4 h-4 text-green-600\" />\n      case \"warning\":\n        return <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\n      case \"missing\":\n        return <XCircle className=\"w-4 h-4 text-red-600\" />\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Status Indicators */}\n      <div className=\"flex flex-wrap gap-3\">\n        <div className=\"flex items-center gap-2 text-sm text-green-700 bg-green-50 px-3 py-1.5 rounded-full\">\n          <CheckCircle className=\"w-4 h-4\" />\n          File Uploaded: {fileName}\n        </div>\n        <div className=\"flex items-center gap-2 text-sm text-green-700 bg-green-50 px-3 py-1.5 rounded-full\">\n          <CheckCircle className=\"w-4 h-4\" />\n          Extracted: {wordCount} words, {stepCount} steps, {sectionCount} sections\n        </div>\n        <div className=\"flex items-center gap-2 text-sm text-green-700 bg-green-50 px-3 py-1.5 rounded-full\">\n          <CheckCircle className=\"w-4 h-4\" />\n          Analysis complete in {analysisTime}s\n        </div>\n      </div>\n\n      {/* Analysis Card */}\n      <div className=\"bg-white border border-gray-200 rounded-xl p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n          <FileText className=\"w-5 h-5 text-blue-600\" />\n          Current SOP Structure Analysis\n        </h3>\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          {/* Strengths */}\n          <div>\n            <h4 className=\"font-medium text-gray-700 mb-3\">Strengths Found:</h4>\n            <ul className=\"space-y-2\">\n              {strengths.map((item, index) => (\n                <li key={index} className=\"flex items-start gap-2 text-sm\">\n                  {getStatusIcon(item.status)}\n                  <span className=\"text-gray-600\">{item.text}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Improvements */}\n          <div>\n            <h4 className=\"font-medium text-gray-700 mb-3\">Areas for Improvement:</h4>\n            <ul className=\"space-y-2\">\n              {improvements.map((item, index) => (\n                <li key={index} className=\"flex items-start gap-2 text-sm\">\n                  {getStatusIcon(item.status)}\n                  <span className=\"text-gray-600\">{item.text}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        {/* Scores */}\n        <div className=\"flex flex-wrap gap-6 mt-6 pt-6 border-t border-gray-100\">\n          <div>\n            <span className=\"text-sm text-gray-500\">Readability Score:</span>\n            <span\n              className={cn(\n                \"ml-2 font-semibold\",\n                readabilityScore >= 70 ? \"text-green-600\" : readabilityScore >= 50 ? \"text-yellow-600\" : \"text-red-600\",\n              )}\n            >\n              {readabilityScore}/100 {readabilityScore >= 70 ? \"(Good)\" : readabilityScore >= 50 ? \"(Fair)\" : \"(Poor)\"}\n            </span>\n          </div>\n          <div>\n            <span className=\"text-sm text-gray-500\">Completeness:</span>\n            <span\n              className={cn(\n                \"ml-2 font-semibold\",\n                completeness.current / completeness.total >= 0.7\n                  ? \"text-green-600\"\n                  : completeness.current / completeness.total >= 0.5\n                    ? \"text-yellow-600\"\n                    : \"text-red-600\",\n              )}\n            >\n              {completeness.current}/{completeness.total} essential sections\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Original Content Preview */}\n      <div className=\"bg-white border border-gray-200 rounded-xl p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\n          <FileText className=\"w-5 h-5 text-gray-600\" />\n          Original SOP Preview\n        </h3>\n        <div className=\"bg-gray-50 rounded-lg p-4 font-mono text-sm text-gray-700 max-h-48 overflow-y-auto\">\n          <pre className=\"whitespace-pre-wrap\">\n            {showFullContent ? originalContent : originalContent.slice(0, 500) + \"...\"}\n          </pre>\n        </div>\n        <Button\n          variant=\"ghost\"\n          onClick={() => setShowFullContent(!showFullContent)}\n          className=\"mt-3 text-blue-600 hover:text-blue-700\"\n        >\n          {showFullContent ? (\n            <>\n              Collapse <ChevronUp className=\"w-4 h-4 ml-1\" />\n            </>\n          ) : (\n            <>\n              Expand to View Full Document <ChevronDown className=\"w-4 h-4 ml-1\" />\n            </>\n          )}\n        </Button>\n      </div>\n\n      {/* CTA */}\n      <div className=\"flex justify-end\">\n        <Button onClick={onStartImprovement} className=\"bg-blue-600 hover:bg-blue-700 text-white px-6\">\n          Start Improvement Chat\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///home/hembi/Desktop/sop-builder-mvp/app/improve/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\"\nimport { ArrowLeft, HelpCircle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { DragDropZone } from \"@/components/upload/drag-drop-zone\"\nimport { AnalysisResults } from \"@/components/upload/analysis-results\"\n\ntype Phase = \"upload\" | \"analyzing\" | \"results\"\n\nconst mockAnalysis = {\n  fileName: \"invoice_approval.pdf\",\n  wordCount: 847,\n  stepCount: 23,\n  sectionCount: 4,\n  analysisTime: 2.3,\n  strengths: [\n    { status: \"good\" as const, text: \"Has clear purpose statement\" },\n    { status: \"good\" as const, text: \"Contains step-by-step procedures\" },\n    { status: \"good\" as const, text: \"Defined scope section\" },\n  ],\n  improvements: [\n    { status: \"warning\" as const, text: \"Missing troubleshooting section\" },\n    { status: \"warning\" as const, text: \"Roles and responsibilities not clearly defined in each step\" },\n    { status: \"warning\" as const, text: \"No quality check or success criteria\" },\n    { status: \"missing\" as const, text: \"No visual aids or flowcharts\" },\n    { status: \"missing\" as const, text: \"Missing glossary/definitions section\" },\n  ],\n  readabilityScore: 72,\n  completeness: { current: 6, total: 12 },\n  originalContent: `# Invoice Approval Procedure\n\n## Purpose\nThis document outlines the standard process for approving invoices in the finance department.\n\n## Scope\nApplies to all invoices over $500 that require manager approval.\n\n## Procedure\n1. Receive invoice via email or mail\n2. Log invoice in the tracking spreadsheet\n3. Verify invoice details against purchase order\n4. Route to appropriate manager based on amount\n5. Manager reviews and approves or rejects\n6. If approved, schedule for payment\n7. Update tracking spreadsheet with status\n8. Archive invoice documentation\n\n## Notes\n- All invoices must be processed within 5 business days\n- Disputed invoices should be escalated to the Finance Director`,\n}\n\nexport default function ImproveSOPPage() {\n  const router = useRouter()\n  const [phase, setPhase] = useState<Phase>(\"upload\")\n  const [pastedText, setPastedText] = useState(\"\")\n\n  const handleFileSelect = (file: File) => {\n    // Simulate analysis\n    setPhase(\"analyzing\")\n    setTimeout(() => {\n      setPhase(\"results\")\n    }, 2000)\n  }\n\n  const handleAnalyze = () => {\n    if (pastedText.trim()) {\n      setPhase(\"analyzing\")\n      setTimeout(() => {\n        setPhase(\"results\")\n      }, 2000)\n    }\n  }\n\n  const handleStartImprovement = () => {\n    router.push(\"/create?mode=improve\")\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between\">\n        <Link href=\"/dashboard\" className=\"text-gray-600 hover:text-gray-900 flex items-center gap-2\">\n          <ArrowLeft className=\"w-5 h-5\" />\n          <span className=\"hidden sm:inline\">Back</span>\n        </Link>\n        <h1 className=\"text-lg font-semibold text-gray-900\">Improve Existing SOP</h1>\n        <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n          <HelpCircle className=\"w-4 h-4\" />\n          <span className=\"hidden sm:inline\">Help</span>\n        </Button>\n      </header>\n\n      <main className=\"max-w-4xl mx-auto px-4 py-8\">\n        {phase === \"upload\" && (\n          <div className=\"space-y-8\">\n            <div className=\"text-center\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Upload Your Current SOP</h2>\n              <p className=\"text-gray-600\">Upload a file or paste your SOP text for AI analysis and improvement</p>\n            </div>\n\n            <DragDropZone onFileSelect={handleFileSelect} />\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-200\" />\n              </div>\n              <div className=\"relative flex justify-center\">\n                <span className=\"px-4 bg-gray-50 text-gray-500 text-sm\">OR</span>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Paste your SOP text directly:</label>\n              <textarea\n                value={pastedText}\n                onChange={(e) => setPastedText(e.target.value)}\n                placeholder=\"Paste your SOP text here... Include the title, steps, and any other content.\"\n                className=\"w-full h-48 p-4 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono\"\n              />\n              <div className=\"flex justify-end mt-4\">\n                <Button\n                  onClick={handleAnalyze}\n                  disabled={!pastedText.trim()}\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50\"\n                >\n                  Analyze SOP\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {phase === \"analyzing\" && (\n          <div className=\"text-center py-16\">\n            <div className=\"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-6\" />\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Analyzing Your SOP...</h2>\n            <p className=\"text-gray-600\">Extracting structure and identifying improvements</p>\n          </div>\n        )}\n\n        {phase === \"results\" && (\n          <div>\n            <div className=\"text-center mb-8\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Analysis Complete</h2>\n              <p className=\"text-gray-600\">Review the findings below and start improving your SOP</p>\n            </div>\n            <AnalysisResults {...mockAnalysis} onStartImprovement={handleStartImprovement} />\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}